import { PrismaService } from '../prisma/prisma.service';
import { CreateAthleteDto } from './dto/create-athlete.dto';
import { UpdateAthleteDto } from './dto/update-athlete.dto';
export interface ImportResults {
    imported: number;
    updated: number;
    skipped: number;
    errors: string[];
}
export declare class AthletesService {
    private prisma;
    private readonly logger;
    constructor(prisma: PrismaService);
    create(createAthleteDto: CreateAthleteDto): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }>;
    findAll(): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        _count: {
            registrations: number;
            results: number;
        };
        gender: import(".prisma/client").$Enums.Gender;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        isParaAthlete: boolean;
    }[]>;
    findOne(id: string): Promise<({
        registrations: ({
            competition: {
                name: string;
                description: string | null;
                startDate: Date;
                endDate: Date;
                location: string;
                venue: string | null;
                type: import(".prisma/client").$Enums.CompetitionType;
                registrationStartDate: Date | null;
                registrationEndDate: Date | null;
                maxParticipants: number | null;
                registrationFee: import("@prisma/client/runtime/library").Decimal | null;
                isPublic: boolean;
                allowLateRegistration: boolean;
                liveResultsEnabled: boolean;
                logos: import("@prisma/client/runtime/library").JsonValue | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                status: import(".prisma/client").$Enums.CompetitionStatus;
                agentId: string | null;
                liveResultsToken: string | null;
                createdById: string;
            };
            events: ({
                event: {
                    name: string;
                    type: import(".prisma/client").$Enums.EventType;
                    maxParticipants: number | null;
                    id: string;
                    createdAt: Date;
                    updatedAt: Date;
                    gender: import(".prisma/client").$Enums.Gender;
                    category: import(".prisma/client").$Enums.Category;
                    unit: import(".prisma/client").$Enums.Unit;
                    seedTimeRequired: boolean;
                    scheduledTime: Date | null;
                    isCompleted: boolean;
                    distance: string | null;
                    discipline: string | null;
                    hurdleHeight: string | null;
                    implementWeight: string | null;
                    implementSpecs: import("@prisma/client/runtime/library").JsonValue | null;
                    competitionId: string;
                };
            } & {
                id: string;
                seedTime: string | null;
                eventId: string;
                registrationId: string;
            })[];
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.RegistrationStatus;
            competitionId: string;
            athleteId: string;
            userId: string;
            paymentStatus: import(".prisma/client").$Enums.PaymentStatus;
            paymentAmount: import("@prisma/client/runtime/library").Decimal | null;
            paymentDate: Date | null;
            seedTime: string | null;
            notes: string | null;
            bibNumber: string | null;
        })[];
        results: ({
            event: {
                competition: {
                    name: string;
                    startDate: Date;
                    location: string;
                    id: string;
                };
            } & {
                name: string;
                type: import(".prisma/client").$Enums.EventType;
                maxParticipants: number | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                gender: import(".prisma/client").$Enums.Gender;
                category: import(".prisma/client").$Enums.Category;
                unit: import(".prisma/client").$Enums.Unit;
                seedTimeRequired: boolean;
                scheduledTime: Date | null;
                isCompleted: boolean;
                distance: string | null;
                discipline: string | null;
                hurdleHeight: string | null;
                implementWeight: string | null;
                implementSpecs: import("@prisma/client/runtime/library").JsonValue | null;
                competitionId: string;
            };
        } & {
            result: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            athleteId: string;
            notes: string | null;
            eventId: string;
            registrationId: string;
            position: number | null;
            points: number | null;
            wind: string | null;
            reaction: string | null;
            splits: import("@prisma/client/runtime/library").JsonValue | null;
            isValid: boolean;
            isDNF: boolean;
            isDNS: boolean;
            isDQ: boolean;
            isPersonalBest: boolean;
            isSeasonBest: boolean;
            isNationalRecord: boolean;
            isWorldRecord: boolean;
            selectedForDopingControl: boolean;
            dopingControlStatus: import(".prisma/client").$Enums.DopingControlStatus;
        })[];
        coach: {
            id: string;
            email: string;
            firstName: string;
            lastName: string;
        } | null;
    } & {
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }) | null>;
    findByCoach(coachId: string): Promise<({
        _count: {
            registrations: number;
            results: number;
        };
    } & {
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    })[]>;
    findByCategory(category: string): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }[]>;
    findByGender(gender: string): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }[]>;
    findParaAthletes(): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }[]>;
    update(id: string, updateAthleteDto: UpdateAthleteDto): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }>;
    remove(id: string): Promise<{
        id: string;
        firstName: string;
        lastName: string;
        createdAt: Date;
        updatedAt: Date;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        dateOfBirth: Date;
        nationality: string | null;
        licenseNumber: string | null;
        classification: string | null;
        isParaAthlete: boolean;
        coachId: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue | null;
        seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
    }>;
    getAthleteStats(id: string): Promise<{
        athlete: {
            registrations: {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                status: import(".prisma/client").$Enums.RegistrationStatus;
                competitionId: string;
                athleteId: string;
                userId: string;
                paymentStatus: import(".prisma/client").$Enums.PaymentStatus;
                paymentAmount: import("@prisma/client/runtime/library").Decimal | null;
                paymentDate: Date | null;
                seedTime: string | null;
                notes: string | null;
                bibNumber: string | null;
            }[];
            results: ({
                event: {
                    name: string;
                    type: import(".prisma/client").$Enums.EventType;
                    maxParticipants: number | null;
                    id: string;
                    createdAt: Date;
                    updatedAt: Date;
                    gender: import(".prisma/client").$Enums.Gender;
                    category: import(".prisma/client").$Enums.Category;
                    unit: import(".prisma/client").$Enums.Unit;
                    seedTimeRequired: boolean;
                    scheduledTime: Date | null;
                    isCompleted: boolean;
                    distance: string | null;
                    discipline: string | null;
                    hurdleHeight: string | null;
                    implementWeight: string | null;
                    implementSpecs: import("@prisma/client/runtime/library").JsonValue | null;
                    competitionId: string;
                };
            } & {
                result: string;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                athleteId: string;
                notes: string | null;
                eventId: string;
                registrationId: string;
                position: number | null;
                points: number | null;
                wind: string | null;
                reaction: string | null;
                splits: import("@prisma/client/runtime/library").JsonValue | null;
                isValid: boolean;
                isDNF: boolean;
                isDNS: boolean;
                isDQ: boolean;
                isPersonalBest: boolean;
                isSeasonBest: boolean;
                isNationalRecord: boolean;
                isWorldRecord: boolean;
                selectedForDopingControl: boolean;
                dopingControlStatus: import(".prisma/client").$Enums.DopingControlStatus;
            })[];
        } & {
            id: string;
            firstName: string;
            lastName: string;
            createdAt: Date;
            updatedAt: Date;
            gender: import(".prisma/client").$Enums.Gender;
            category: import(".prisma/client").$Enums.Category;
            club: string | null;
            dateOfBirth: Date;
            nationality: string | null;
            licenseNumber: string | null;
            classification: string | null;
            isParaAthlete: boolean;
            coachId: string | null;
            personalBests: import("@prisma/client/runtime/library").JsonValue | null;
            seasonBests: import("@prisma/client/runtime/library").JsonValue | null;
        };
        stats: {
            totalCompetitions: number;
            totalResults: number;
            personalBests: number;
            seasonBests: number;
            nationalRecords: number;
            worldRecords: number;
        };
        recentResults: ({
            event: {
                name: string;
                type: import(".prisma/client").$Enums.EventType;
                maxParticipants: number | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                gender: import(".prisma/client").$Enums.Gender;
                category: import(".prisma/client").$Enums.Category;
                unit: import(".prisma/client").$Enums.Unit;
                seedTimeRequired: boolean;
                scheduledTime: Date | null;
                isCompleted: boolean;
                distance: string | null;
                discipline: string | null;
                hurdleHeight: string | null;
                implementWeight: string | null;
                implementSpecs: import("@prisma/client/runtime/library").JsonValue | null;
                competitionId: string;
            };
        } & {
            result: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            athleteId: string;
            notes: string | null;
            eventId: string;
            registrationId: string;
            position: number | null;
            points: number | null;
            wind: string | null;
            reaction: string | null;
            splits: import("@prisma/client/runtime/library").JsonValue | null;
            isValid: boolean;
            isDNF: boolean;
            isDNS: boolean;
            isDQ: boolean;
            isPersonalBest: boolean;
            isSeasonBest: boolean;
            isNationalRecord: boolean;
            isWorldRecord: boolean;
            selectedForDopingControl: boolean;
            dopingControlStatus: import(".prisma/client").$Enums.DopingControlStatus;
        })[];
    } | null>;
    importFromCsv(fileBuffer: Buffer, format: 'pzla' | 'international' | 'auto', updateExisting?: boolean): Promise<ImportResults>;
    private parseCsv;
    private detectFormat;
    private mapCsvRowToAthlete;
    private mapPzlaFormat;
    private mapInternationalFormat;
    private calculateCategory;
    private findExistingAthlete;
    updatePersonalAndSeasonBests(athleteId: string, eventName: string, result: string, competitionDate: Date, competitionName: string): Promise<{
        isNewPB: boolean;
        isNewSB: boolean;
        personalBest: any;
        seasonBest: any;
    }>;
    private compareResults;
    private isTimeBasedEvent;
    private parseTimeToSeconds;
    getAthleteRecords(athleteId: string, eventName?: string): Promise<{
        athlete: {
            id: string;
            firstName: string;
            lastName: string;
        };
        event: string;
        personalBest: any;
        seasonBest: any;
        personalBests?: undefined;
        seasonBests?: undefined;
    } | {
        athlete: {
            id: string;
            firstName: string;
            lastName: string;
        };
        personalBests: any;
        seasonBests: any;
        event?: undefined;
        personalBest?: undefined;
        seasonBest?: undefined;
    }>;
    getAthletesSortedByRecords(eventName: string, sortBy?: 'PB' | 'SB', gender?: 'MALE' | 'FEMALE', category?: string, limit?: number): Promise<{
        record: any;
        recordType: "PB" | "SB";
        id: string;
        firstName: string;
        lastName: string;
        gender: import(".prisma/client").$Enums.Gender;
        category: import(".prisma/client").$Enums.Category;
        club: string | null;
        personalBests: import("@prisma/client/runtime/library").JsonValue;
        seasonBests: import("@prisma/client/runtime/library").JsonValue;
    }[]>;
    clearSeasonBests(year?: number): Promise<{
        message: string;
        year: number;
        clearedAthletes: number;
    }>;
}
